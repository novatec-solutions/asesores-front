"use strict";(self.webpackChunkangular_material_admin=self.webpackChunkangular_material_admin||[]).push([[357],{3357:(_e,v,i)=>{i.r(v),i.d(v,{DashboardModule:()=>ge});var g=i(9808),U=i(2155),T=i(8555),s=i(3075),h=i(1125);class b{static account(o){switch(o){case 1:return"email";case 2:return"hogar";case 3:return"movil"}}static table(o){switch(o){case"lastTime":return"\xdaltimo tiempo de visualizaci\xf3n";case"maxTime":return"Tiempo m\xe1ximo de visualizaci\xf3n";case"actions":return"Acciones";case"descripcion":return"Titulo";case"origen":return"Origen";case"ipUsuario":return"IP usuario";case"fechaAlta":return"Fecha de Alta";case"fechaExpiracion":return"Fecha de Expiraci\xf3n";case"precio":return"Precio";case"medioPago":case"medioPago":return"Medio de pago";case"estadoPago":return"Estado pago";case"payDetail":return"Detalle abono";case"detalleAccion":return"Detalle acci\xf3n";case"tipoDispositivo":return"Dispositivo";case"nombreDispositivo":return"Nombre";case"idDispositivo":return"Product ID / Serial";case"fechaActivacion":return"Fecha de activaci\xf3n"}}}var N=i(2229),_=i(4850),P=i(2868),A=i(1709);function y(a){return a.reduce((o,t)=>Object.assign(Object.assign({},o),t),{})}function M({response:a}){const{suscripciones:o}=a;return o.map(t=>y(t))}var e=i(5e3),F=i(8966),L=i(1737),w=i(3489);function d(a=-1){return o=>o.lift(new E(a,o))}class E{constructor(o,t){this.count=o,this.source=t}call(o,t){return t.subscribe(new S(o,this.count,this.source))}}class S extends w.L{constructor(o,t,n){super(o),this.count=t,this.source=n}error(o){if(!this.isStopped){const{source:t,count:n}=this;if(0===n)return super.error(o);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}}}var m=i(7221),I=i(2340),H=i(520);let k=(()=>{class a{constructor(t){this.http=t,this.baseUrl=I.N.url_server}user_data_by_email(t){return this.temp=this.baseUrl+"Landing-Asesores/Correo/",this.http.post(this.temp,t).pipe(d(1),(0,m.K)(this.errorHandl))}user_data_by_mobile_line(t){return this.temp=this.baseUrl+"Landing-Asesores/LineaMovil/",this.http.post(this.temp,t).pipe(d(1),(0,m.K)(this.errorHandl))}user_data_by_home_account(t){return this.temp=this.baseUrl+"Landing-Asesores/CuentaHogar/",this.http.post(this.temp,t).pipe(d(1),(0,m.K)(this.errorHandl))}modify_user_mail(t){return this.temp=this.baseUrl+"Landing-Asesores/ModificarCorreo/",this.http.post(this.temp,t).pipe(d(1),(0,m.K)(this.errorHandl))}find_devices_by_email(t){return this.http.post(this.baseUrl+"Landing-Asesores/ConsultarDispositivos/",{data:{Username:"PA00003102",Password:"aMc0Co3!",invokeMethod:"consultardispositivoscliente",correlatorId:"00000232550e8400e29b41d4a716446655440799",countryId:"CO",employeeId:"9984",origin:"MI_CLARO",serviceName:"consultardispositivoscliente",providerId:"PA00002812",iccidManager:"AMCOCO",key:"CUSTOMERID",value:t.userdata.response.customerId}}).pipe(d(1),(0,m.K)(this.errorHandl),(0,_.U)(l=>Object.assign(Object.assign({},t),{devices:l})))}find_subscription_by_email(t){const n=this.baseUrl+"Landing-Asesores/ConsultarSuscripcionUsuario/",r=new Date;let l,f;return t.userdata.response.startDate?(l=t.userdata.response.startDate,f=t.userdata.response.endDate):(l=new Date(r.getFullYear(),r.getMonth()-4,1).toISOString(),f=r.toISOString()),this.http.post(n,{data:{Username:"PA00003102",Password:"aMc0Co3!",invokeMethod:"consultardatoscliente",correlatorId:"00000232550e8400e29b41d4a716446655449899",countryId:"CO",employeeId:"567shsgww3",origin:"MI_CLARO",serviceName:"consultardatoscliente",providerId:"PA00002812",iccidManager:"AMCOCO",key:"CUSTOMERID",value:t.userdata.response.customerId,startDate:l,endDate:f}}).pipe(d(1),(0,m.K)(this.errorHandl),(0,_.U)(x=>Object.assign(Object.assign({},t),{subscriptions:x})))}change_client_names(t){return this.temp=this.baseUrl+"Landing-Asesores/ActualizarNombreApellido/",this.http.post(this.temp,t).pipe(d(1),(0,m.K)(this.errorHandl))}change_client_password(t){return this.temp=this.baseUrl+"Landing-Asesores/RecuperarContrasena/",this.http.post(this.temp,t).pipe(d(1),(0,m.K)(this.errorHandl))}errorHandl(t){return(0,L._)(t)}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(H.eN))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var p=i(7093),Z=i(9224),J=i(5245),Q=i(3322),z=i(773),R=i(508),D=i(7322),G=i(7531),C=i(6856);let Y=(()=>{class a{constructor(t){this.dateAdapter=t,this.selectedDate=new e.vpe,this.currentDate=new Date,this.dateStart=new s.NI(new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()-4,1)),this.dateEnd=new s.NI(new Date(this.currentDate.getFullYear(),this.currentDate.getMonth(),this.currentDate.getDate())),this.sendDate()}ngOnInit(){this.dateAdapter.setLocale("es")}sendDate(){this.selectedDate.emit(JSON.stringify({start:this.dateStart.value.toISOString(),end:this.dateEnd.value.toISOString()}))}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(R._A))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-calendar"]],outputs:{selectedDate:"selectedDate"},decls:21,vars:6,consts:[["fxFlex","","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","18px"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","7px"],[1,"card-label"],[1,"calendar"],["matInput","",3,"matDatepicker","formControl"],["matSuffix","",3,"for"],["pickerStart",""],["pickerEnd",""],[1,"btn","bg-red",3,"click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"mat-card",0),e.TgZ(1,"div",1),e.TgZ(2,"label",2),e._uU(3,"Fecha desde:"),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"mat-form-field"),e._UZ(6,"input",4),e._UZ(7,"mat-datepicker-toggle",5),e._UZ(8,"mat-datepicker",null,6),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",1),e.TgZ(11,"label",2),e._uU(12,"Fecha hasta:"),e.qZA(),e.TgZ(13,"div",3),e.TgZ(14,"mat-form-field"),e._UZ(15,"input",4),e._UZ(16,"mat-datepicker-toggle",5),e._UZ(17,"mat-datepicker",null,7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"button",8),e.NdJ("click",function(){return n.sendDate()}),e._uU(20,"Enviar"),e.qZA(),e.qZA()),2&t){const r=e.MAs(9),l=e.MAs(18);e.xp6(6),e.Q6J("matDatepicker",r)("formControl",n.dateStart),e.xp6(1),e.Q6J("for",r),e.xp6(8),e.Q6J("matDatepicker",l)("formControl",n.dateEnd),e.xp6(1),e.Q6J("for",l)}},directives:[Z.a8,p.yH,p.xw,p.Wh,p.SQ,D.KE,G.Nt,C.hl,s.Fj,s.JJ,s.oH,C.nW,D.R9,C.Mq],styles:[".calendar[_ngcontent-%COMP%]     .mat-form-field-flex{background:#fff;box-shadow:0 3px 6px #00000029;border:1px solid #C5C5C5;border-radius:5px;padding:3px 5px 4px;outline:none;color:#2d2d2d;font-size:12px}.calendar[_ngcontent-%COMP%]     .mat-form-field-appearance-legacy .mat-form-field-infix{padding:0;border:0}.calendar[_ngcontent-%COMP%]     .mat-form-field-appearance-legacy .mat-form-field-underline{height:0}.calendar[_ngcontent-%COMP%]     .mat-form-field-appearance-legacy .mat-form-field-wrapper{padding-bottom:0}.card-label[_ngcontent-%COMP%]{font-size:13px}"]}),a})();var O=i(2426),c=i(6346);function j(a,o){if(1&a&&(e.TgZ(0,"th",9),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Oqu(n.getHeaderTitle(t))}}function B(a,o){if(1&a&&(e.TgZ(0,"td",11),e.TgZ(1,"button",12),e._uU(2),e.qZA(),e.qZA()),2&a){const t=o.$implicit,n=e.oxw(2).$implicit;e.xp6(2),e.Oqu(t[n])}}function V(a,o){1&a&&(e.TgZ(0,"div"),e.YNc(1,B,3,1,"td",10),e.qZA())}function K(a,o){if(1&a&&(e.TgZ(0,"td",11),e._uU(1),e.qZA()),2&a){const t=o.$implicit,n=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t[n]," ")}}function $(a,o){1&a&&e.YNc(0,K,2,1,"td",10)}function W(a,o){if(1&a&&(e.ynx(0,5),e.YNc(1,j,2,1,"th",6),e.YNc(2,V,2,0,"div",7),e.YNc(3,$,1,0,"ng-template",null,8,e.W1O),e.BQk()),2&a){const t=o.$implicit,n=e.MAs(4);e.s9C("matColumnDef",t),e.xp6(2),e.Q6J("ngIf","payDetail"==t||"actions"==t)("ngIfElse",n)}}function X(a,o){1&a&&e._UZ(0,"tr",13)}function ee(a,o){1&a&&e._UZ(0,"tr",14)}const te=function(){return[5,10,20]};let ae=(()=>{class a{constructor(){this.ELEMENT_DATA=[],this.displayedColumns=[]}ngOnInit(){}ngOnChanges(t){if(this.dataForTable){let n=JSON.parse(this.dataForTable);this.displayedColumns=n.columns,this.ELEMENT_DATA=n.elements,this.dataSource=new c.by(this.ELEMENT_DATA),this.dataSource.paginator=this.paginator}}getHeaderTitle(t){return b.table(t)}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-table"]],viewQuery:function(t,n){if(1&t&&e.Gf(O.NW,7),2&t){let r;e.iGM(r=e.CRH())&&(n.paginator=r.first)}},inputs:{dataForTable:"dataForTable"},features:[e.TTD],decls:5,vars:6,consts:[["mat-table","","width","100%",1,"text-center",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],[4,"ngIf","ngIfElse"],["blockBody",""],["mat-header-cell",""],["mat-cell","",4,"matCellDef"],["mat-cell",""],[1,"btn","bg-blue","btn-xs"],["mat-header-row",""],["mat-row",""]],template:function(t,n){1&t&&(e.TgZ(0,"table",0),e.YNc(1,W,5,3,"ng-container",1),e.YNc(2,X,1,0,"tr",2),e.YNc(3,ee,1,0,"tr",3),e.qZA(),e._UZ(4,"mat-paginator",4)),2&t&&(e.Q6J("dataSource",n.dataSource),e.xp6(1),e.Q6J("ngForOf",n.displayedColumns),e.xp6(1),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(5,te)))},directives:[c.BZ,g.sg,c.as,c.nj,O.NW,c.w1,c.fO,g.O5,c.ge,c.Dz,c.ev,c.XQ,c.Gk],styles:[".mat-table[_ngcontent-%COMP%]{border-collapse:collapse}.mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{height:auto}.mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%], .mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(th:last-child){border-right:1px solid #ffffff;background:#808080;color:#fff;padding:5px 10px;font-size:11px;text-align:center;line-height:1.2}.mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]:last-child, .mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(th:last-child):last-child{border-right:1px solid #707070}.mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]:first-child, .mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(th:last-child):first-child{border-left:1px solid #707070}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{height:auto}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{border:1px solid #707070;padding:5px 10px;font-size:10px}.mat-table[_ngcontent-%COMP%]   .btn-xs[_ngcontent-%COMP%]{padding:4px 15px;font-size:10px}"]}),a})();const ne=["btnMail"],oe=["btnNames"];function re(a,o){1&a&&(e.TgZ(0,"label",21),e._uU(1,"Campo obligatorio, debe escribir un email correcto"),e.qZA())}function ie(a,o){1&a&&(e.TgZ(0,"label",21),e._uU(1,"Campo obligatorio"),e.qZA())}function se(a,o){1&a&&(e.TgZ(0,"label",21),e._uU(1,"Campo obligatorio, debe inciar en 3 y contener 10 digitos"),e.qZA())}function le(a,o){1&a&&(e.TgZ(0,"div",22),e._UZ(1,"mat-spinner",23),e.qZA()),2&a&&(e.xp6(1),e.Q6J("diameter",40)("strokeWidth",10))}function ce(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"mat-accordion",24),e.TgZ(2,"mat-expansion-panel"),e.TgZ(3,"mat-expansion-panel-header"),e.TgZ(4,"mat-panel-title",5),e.TgZ(5,"b"),e._uU(6,"Datos del usuario"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"mat-card"),e.TgZ(8,"form",25),e.TgZ(9,"div",26),e.TgZ(10,"div",14),e.TgZ(11,"label"),e._uU(12,"Email:"),e.qZA(),e._UZ(13,"input",27),e.qZA(),e.TgZ(14,"button",28,29),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return r.modifyMail(r.userData)}),e._uU(16," Cambiar Email "),e.qZA(),e.qZA(),e.TgZ(17,"div",30),e.TgZ(18,"label"),e._uU(19,"Nombre:"),e.qZA(),e._UZ(20,"input",31),e.qZA(),e.TgZ(21,"div",26),e.TgZ(22,"div",30),e.TgZ(23,"label"),e._uU(24,"Apellido:"),e.qZA(),e._UZ(25,"input",32),e.qZA(),e.TgZ(26,"button",28,33),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return r.modifyNames(r.userData)}),e._uU(28," Cambiar Nombres "),e.qZA(),e.qZA(),e.TgZ(29,"div",30),e.TgZ(30,"label"),e._uU(31,"Nro Cuenta Claro:"),e.qZA(),e._UZ(32,"input",34),e.qZA(),e.TgZ(33,"div",30),e.TgZ(34,"label"),e._uU(35,"Medio de pago:"),e.qZA(),e._UZ(36,"input",34),e.qZA(),e.TgZ(37,"div",30),e.TgZ(38,"label"),e._uU(39,"No de cuenta:"),e.qZA(),e._UZ(40,"input",34),e.qZA(),e.TgZ(41,"div",14),e.TgZ(42,"label"),e._uU(43,"Id interno del usuario:"),e.qZA(),e._UZ(44,"input",34),e.qZA(),e.TgZ(45,"button",35),e.NdJ("click",function(){return e.CHM(t),e.oxw().changePassword()}),e._uU(46,"Cambiar clave"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(47,"div",36),e.TgZ(48,"button",37),e._uU(49,"Eliminar cuenta del usuario"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"mat-expansion-panel"),e.TgZ(51,"mat-expansion-panel-header"),e.TgZ(52,"mat-panel-title",5),e.TgZ(53,"b"),e._uU(54,"Alquileres del usuario"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(55,"div",38),e.TgZ(56,"app-calendar",39),e.NdJ("selectedDate",function(r){return e.CHM(t),e.oxw().dateChange(r)}),e.qZA(),e._UZ(57,"app-table",40),e.qZA(),e.qZA(),e.TgZ(58,"mat-expansion-panel"),e.TgZ(59,"mat-expansion-panel-header"),e.TgZ(60,"mat-panel-title",5),e.TgZ(61,"b"),e._uU(62,"Suscripciones del usuario"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(63,"div",38),e.TgZ(64,"app-calendar",39),e.NdJ("selectedDate",function(r){return e.CHM(t),e.oxw().dateChange(r)}),e.qZA(),e._UZ(65,"app-table",40),e.qZA(),e.qZA(),e.TgZ(66,"mat-expansion-panel"),e.TgZ(67,"mat-expansion-panel-header"),e.TgZ(68,"mat-panel-title",5),e.TgZ(69,"b"),e._uU(70,"Dispositivos del usuario"),e.qZA(),e.qZA(),e.qZA(),e._UZ(71,"app-table",40),e.qZA(),e.qZA(),e.qZA()}if(2&a){const t=e.oxw();e.Tol(!t.loading&&t.visible?"visible":"hide"),e.xp6(8),e.Q6J("formGroup",t.userForm),e.xp6(6),e.Gre("",""==t.userForm.get("mail").value?"bg-light-grey":"bg-red"," btn"),e.Q6J("disabled",""==t.userForm.get("mail").value),e.xp6(12),e.Gre("",""==t.userForm.get("firstName").value||""==t.userForm.get("lastName").value?"bg-light-grey":"bg-red"," btn"),e.Q6J("disabled",""==t.userForm.get("firstName").value||""==t.userForm.get("lastName").value),e.xp6(6),e.s9C("value",null==t.userData?null:t.userData.fixedAccount),e.xp6(4),e.s9C("value",t.getPaymentType(null==t.userData?null:t.userData.paymentType)),e.xp6(4),e.s9C("value",null==t.userData?null:t.userData.idNumber),e.xp6(4),e.s9C("value",null==t.userData?null:t.userData.customerId),e.xp6(13),e.s9C("dataForTable",t.dataTableAux1),e.xp6(8),e.s9C("dataForTable",t.dataTableAux2),e.xp6(6),e.s9C("dataForTable",t.dataTableAux3)}}const ue=function(a){return{"err-box":a}},de=[{path:"",component:(()=>{class a{constructor(t,n,r,l){this.fb=t,this.dialog=n,this.UserQueryService=r,this.renderer=l,this.email=!1,this.movil=!1,this.hogar=!1,this.sType="",this.loading=!1,this.visible=!1,this.displayedColumns1=["title","ipUser","lastTime","maxTime","highDate","dateExpiry","price","payMethod","actions"],this.ELEMENT_DATA1=[{title:"",ipUser:"",lastTime:"",maxTime:"",highDate:"",dateExpiry:"",price:"",payMethod:"",actions:""}],this.displayedColumns2=["descripcion","ipUsuario","fechaAlta","fechaExpiracion","precio","medioPago","estadoPago","payDetail","detalleAccion","actions"],this.ELEMENT_DATA2=[],this.displayedColumns3=["tipoDispositivo","nombreDispositivo","fechaActivacion"],this.ELEMENT_DATA3=[],this.searchForm=this.fb.group({lookupValue:[{value:"",disabled:!0},s.kI.required]}),this.userForm=this.fb.group({mail:"",firstName:"",lastName:""})}ngOnInit(){this.dataTableAux1=JSON.stringify({columns:this.displayedColumns1,elements:this.ELEMENT_DATA1}),this.setDevicesData([]),this.setSubscriptionsData([])}setSubscriptionsData(t){this.ELEMENT_DATA2=t,this.dataTableAux2=JSON.stringify({columns:this.displayedColumns2,elements:this.ELEMENT_DATA2})}setDevicesData(t){this.ELEMENT_DATA3=t,this.dataTableAux3=JSON.stringify({columns:this.displayedColumns3,elements:this.ELEMENT_DATA3})}getSelectedData(t){return this.email?{key:"emailAddress",value:t,method:"user_data_by_email"}:this.movil?{key:"msisdn",value:`57${t}`,method:"user_data_by_mobile_line"}:this.hogar?{key:"fixedAccount",value:t,method:"user_data_by_home_account"}:void 0}onSearchUser(){this.loading=!0;const t=this.searchForm.value.lookupValue,{key:n,value:r,method:l}=this.getSelectedData(t);this.UserQueryService[l]({data:{[n]:r,state:"A"}}).pipe((0,_.U)(u=>({userdata:u})),(0,P.b)(u=>{this.dataRange=u}),(0,A.zg)(u=>this.UserQueryService.find_subscription_by_email(u)),(0,A.zg)(u=>this.UserQueryService.find_devices_by_email(u))).subscribe(({userdata:u,subscriptions:x,devices:he})=>{this.validateData(u);const fe=M(x);this.setSubscriptionsData(fe);const be=function({response:a}){const{Dispositivos:o}=a;return o.map(t=>y(t))}(he);this.setDevicesData(be)})}modifyMail(t){""!=this.userForm.controls.mail.value&&(this.disableBtn(this.btnMail),this.UserQueryService.modify_user_mail({data:{customerId:t.customerId,providerId:t.providerId,idNumber:t.idNumber,emailAddress:this.userForm.controls.mail.value}}).subscribe(r=>{this.showMessage(r.response),this.activateBtn(this.btnMail)}))}modifyNames(t){""!=this.userForm.controls.firstName.value&&""!=this.userForm.controls.lastName.value&&(this.disableBtn(this.btnNames),this.UserQueryService.change_client_names({data:{customerId:t.customerId,providerId:t.providerId,idNumber:t.idNumber,firstName:this.userForm.controls.firstName.value,lastName:this.userForm.controls.lastName.value}}).subscribe(r=>{this.showMessage(r.error>0?"Se ha producido un error":"El nombre y apellido se cambiaron con \xe9xito"),this.activateBtn(this.btnNames)}))}activateBtn(t){this.renderer.removeAttribute(t.nativeElement,"disabled"),this.renderer.removeClass(t.nativeElement,"bg-light-grey"),this.renderer.addClass(t.nativeElement,"bg-red")}disableBtn(t){this.renderer.setAttribute(t.nativeElement,"disabled","true"),this.renderer.removeClass(t.nativeElement,"bg-red"),this.renderer.addClass(t.nativeElement,"bg-light-grey")}validateData(t){(null==t?void 0:t.error)&&(null==t?void 0:t.error)>0?(this.showMessage("No hay resultados para los datos ingresados en la b\xfasqueda."),this.loading=!1):(this.userData=t.response,this.userForm.setValue({mail:this.userData.emailAddress,firstName:this.userData.firstName,lastName:this.userData.lastName}),this.loading=!1,this.visible=!0)}searchSelection(t){switch(this.searchForm.controls.lookupValue.enable(),this.visible=!1,this.loading=!1,this.sType=b.account(t),b.account(t)){case"email":this.email=!0,this.hogar=this.movil=!1,this.searchForm=this.fb.group({lookupValue:["",[s.kI.required,s.kI.pattern(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]]});break;case"hogar":this.hogar=!0,this.email=this.movil=!1,this.searchForm=this.fb.group({lookupValue:["",[s.kI.required,s.kI.pattern(/[a-zA-Z0-9]{6}$/)]]});break;case"movil":this.movil=!0,this.email=this.hogar=!1,this.searchForm=this.fb.group({lookupValue:["",[s.kI.required,s.kI.pattern(/^3{1}\d{9}$/)]]})}}dateChange(t){const n=JSON.parse(t);this.dataRange.userdata.response.startDate=n.start,this.dataRange.userdata.response.endDate=n.end,this.UserQueryService.find_subscription_by_email(this.dataRange).subscribe(r=>{const l=M(r.subscriptions);this.setSubscriptionsData(l)})}changePassword(){this.showMessage("Se enviara un mensaje de recuperaci\xf3n al correo electr\xf3nico registrado en la b\xfasqueda."),this.UserQueryService.change_client_password({data:{Username:"PA00003102",Password:"aMc0Co3!B",transactionId:"202202258103435",invokeMethod:"modificaremail",correlatorId:"00000232550e8400e29b41d4a716446655440080",countryId:"CO",userId:"MI_CLARO",employeeId:"6666869",origin:"MI_CLARO",serviceName:"modificaremail",providerId:"PA00002812",iccidManager:"AMCOCO",value:this.userData.customerId}}).subscribe(r=>{})}getPaymentType(t){return 2==t?"Factura Claro Hogar":1==t?"Factura Claro Movil":""}showMessage(t){this.dialog.open(N.a,{width:"250px",data:{text:t}}).afterClosed()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(s.qu),e.Y36(F.uw),e.Y36(k),e.Y36(e.Qsj))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-home"]],viewQuery:function(t,n){if(1&t&&(e.Gf(h.pp,5),e.Gf(ne,5),e.Gf(oe,5)),2&t){let r;e.iGM(r=e.CRH())&&(n.accordion=r.first),e.iGM(r=e.CRH())&&(n.btnMail=r.first),e.iGM(r=e.CRH())&&(n.btnNames=r.first)}},decls:50,vars:23,consts:[["fxLayout","column","fxLayoutGap","25px"],["fxFlex","","fxLayout","column","fxLayoutAlign","stretch space-between"],[1,"title","gray-color","mt20"],[1,"title","blue-color","py20"],["fxFlex",""],[1,"card-title"],[1,"subtitle","mt15"],["fxLayout","row","fxLayout.lt-md","column","fxLayoutAlign","start start","fxLayoutAlign.lt-md","stretch","fxLayoutGap","12px",1,"cards-xs"],["fxLayout","row","fxLayoutAlign","start center","fxFlex.gt-sm","24","fxLayoutGap","7px",3,"click"],["novalidate","","fxLayout","row wrap","fxLayout.lt-md","column","fxLayoutAlign","start center","fxLayoutAlign.lt-md","stretch","fxLayoutGap","30px",3,"formGroup","ngSubmit"],["fxFlex","","fxFlex.gt-sm","49","fxLayout","row","fxLayout.lt-md","column","fxLayoutAlign","start center","fxLayoutAlign.lt-md","stretch","fxLayoutGap.gt-sm","25px","fxLayoutGap.lt-md","5px"],[1,"subtitle"],["fxFlex","",1,"tag-group"],[1,"search-icon"],["fxLayout","column"],["formControlName","lookupValue","appearance","outline","fxFlex","",1,"input-st",3,"type","ngClass"],["class","err-text pt5",4,"ngIf"],["fxFlex","","fxLayoutAlign.lt-md","center center"],["type","submit",1,"btn",3,"disabled"],["class","spinner-container",4,"ngIf","ngIfElse"],["loaded",""],[1,"err-text","pt5"],[1,"spinner-container"],[3,"diameter","strokeWidth"],["multi","","fxFlex","",1,"example-headers-align"],["fxLayout","column wrap","fxLayoutAlign","start start","fxLayoutGap","10px",1,"form-card",3,"formGroup"],["fxLayout","row","fxLayoutAlign","start end","fxLayoutGap","15px",1,"mr30"],["formControlName","mail",1,"input-st","w-250"],["fxFlex","130px",3,"disabled","click"],["btnMail",""],["fxLayout","column",1,"mr30"],["formControlName","firstName",1,"input-st","w-250"],["formControlName","lastName",1,"input-st","w-250"],["btnNames",""],["disabled","",1,"input-st",3,"value"],[1,"btn","bg-blue",3,"click"],["fxLayout","row","fxLayoutAlign","center center"],[1,"btn","bg-gray","mt15"],["fxFlex","","fxLayout","column","fxLayoutGap","20px"],[3,"selectedDate"],[3,"dataForTable"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"label",2),e.TgZ(3,"b"),e._uU(4,"Consulta de consumos: Detalle de Cuentas del Usuario"),e.qZA(),e.qZA(),e.TgZ(5,"label",3),e.TgZ(6,"b"),e._uU(7,"Buscar"),e.qZA(),e.qZA(),e.TgZ(8,"mat-card",4),e.TgZ(9,"mat-card-title",5),e.TgZ(10,"b"),e._uU(11,"Detalles de Cuentas de Usuario"),e.qZA(),e.qZA(),e.TgZ(12,"p",6),e._uU(13,"Selecciona el tipo de b\xfasqueda"),e.qZA(),e.TgZ(14,"div",7),e.TgZ(15,"mat-card",8),e.NdJ("click",function(){return n.searchSelection(1)}),e.TgZ(16,"mat-icon"),e._uU(17,"panorama_fish_eye"),e.qZA(),e.TgZ(18,"label"),e._uU(19,"Correo electr\xf3nico (Completo)"),e.qZA(),e.qZA(),e.TgZ(20,"mat-card",8),e.NdJ("click",function(){return n.searchSelection(2)}),e.TgZ(21,"mat-icon"),e._uU(22,"panorama_fish_eye"),e.qZA(),e.TgZ(23,"label"),e._uU(24,"Nro Cuenta Claro Hogar"),e.qZA(),e.qZA(),e.TgZ(25,"mat-card",8),e.NdJ("click",function(){return n.searchSelection(3)}),e.TgZ(26,"mat-icon"),e._uU(27,"panorama_fish_eye"),e.qZA(),e.TgZ(28,"label"),e._uU(29,"Nro L\xednea Claro M\xf3vil"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"p",6),e._uU(31,"Ingresa tu b\xfasqueda"),e.qZA(),e.TgZ(32,"form",9),e.NdJ("ngSubmit",function(){return n.onSearchUser()}),e.TgZ(33,"div",10),e.TgZ(34,"label",11),e._uU(35,"Valor:"),e.qZA(),e.TgZ(36,"div",12),e.TgZ(37,"mat-icon",13),e._uU(38,"search"),e.qZA(),e.TgZ(39,"div",14),e._UZ(40,"input",15),e.YNc(41,re,2,0,"label",16),e.YNc(42,ie,2,0,"label",16),e.YNc(43,se,2,0,"label",16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"div",17),e.TgZ(45,"button",18),e._uU(46,"Buscar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(47,le,2,2,"div",19),e.YNc(48,ce,72,19,"ng-template",null,20,e.W1O),e.qZA()),2&t){const r=e.MAs(49);e.xp6(15),e.Tol(n.email?"active":"deactivated"),e.xp6(5),e.Tol(n.hogar?"active":"deactivated"),e.xp6(5),e.Tol(n.movil?"active":"deactivated"),e.xp6(7),e.Q6J("formGroup",n.searchForm),e.xp6(8),e.s9C("type","email"==n.sType?"email":"number"),e.Q6J("ngClass",e.VKq(21,ue,n.searchForm.get("lookupValue").hasError("pattern"))),e.xp6(1),e.Q6J("ngIf","email"==n.sType&&n.searchForm.get("lookupValue").hasError("pattern")),e.xp6(1),e.Q6J("ngIf","hogar"==n.sType&&n.searchForm.get("lookupValue").hasError("pattern")),e.xp6(1),e.Q6J("ngIf","movil"==n.sType&&n.searchForm.get("lookupValue").hasError("pattern")),e.xp6(2),e.Tol(n.searchForm.invalid||""==n.sType?"bg-light-grey":"bg-red"),e.Q6J("disabled",n.searchForm.invalid||""==n.sType),e.xp6(2),e.Q6J("ngIf",n.loading)("ngIfElse",r)}},directives:[p.xw,p.SQ,p.yH,p.Wh,Z.a8,Z.n5,J.Hw,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,g.mk,Q.oO,g.O5,z.$g,h.pp,h.ib,h.yz,h.yK,Y,ae],styles:[".title[_ngcontent-%COMP%]{font-size:1.5em}.card-title[_ngcontent-%COMP%]{color:#000;font-size:1.188em}.subtitle[_ngcontent-%COMP%]{letter-spacing:0px;color:#999;opacity:1;font-size:1.063em}.mat-expansion-panel-header[_ngcontent-%COMP%]{font-size:1em}.cards-xs[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{padding:10px;cursor:pointer}.cards-xs[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:12px;width:13px;cursor:pointer}.cards-xs[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:12px}.cards-xs[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}.tag-group[_ngcontent-%COMP%]{position:relative}.tag-group[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;padding:10px;pointer-events:none}.tag-group[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{left:5px;top:6px;font-size:19px;padding:0;color:#c5c5c5;opacity:1}.tag-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:30px}.active[_ngcontent-%COMP%]{background:#E03224;color:#fff;font-size:.938em}.deactivated[_ngcontent-%COMP%]{background:#ffffff;color:#707070;font-size:.938em}.form-card[_ngcontent-%COMP%]{height:210px}.form-card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#2d2d2d;font-weight:700;font-size:.875em}.form-card[_ngcontent-%COMP%]   .w-250[_ngcontent-%COMP%]{width:250px}.hide[_ngcontent-%COMP%]{display:none!important}.visible[_ngcontent-%COMP%]{flex-direction:row;box-sizing:border-box;display:flex;place-content:stretch space-between;align-items:stretch;max-height:100%}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]}),a})()}];let me=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[T.Bz.forChild(de)],T.Bz]}),a})();var pe=i(3079);let ge=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[g.ez,me,U.o9,s.u5,s.UX,pe.q]]}),a})()}}]);